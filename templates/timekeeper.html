{% extends 'base.html' %}




{% block content %}

<div class="container">

    <h3>This Week: </h3>
  <div id="pandas">{{ tables[1]|safe }}</div>

  
  <button class="accordion">Total By Category</button>
  <div class="panel" id="tableContainer">
    <h2>Total by Category:</h2>
    <div id="pandas">
    <table id="myTable">
      <tr>
        <th>Category</th>
        <th>Total Hours</th>
      </tr>
      {% for key, value in timekeeperdata['totalByCategory'].items() %}
        <tr>
          <td>{{key}}</td>
          <td>{{value}}</td>
        </tr>
      {% endfor %}
      </table> 
     
      <div id="timekeeperRadio" >
        <h5>Table Interval:</h5>
        <form action="{{ url_for("home")}}" method="post"></form>
        <input type="radio" id="weekly" name="aggregate" value="week">
        <label for="weekly"> Week</label><br>
        <input type="radio" id="monthly" name="aggregate" value="month" checked>
        <label for="monthly" checked> Month</label><br>  
        <input type="radio" id="annually" name="aggregate" value="year">
        <label for="annually"> Year</label><br><br>
        <br>
        <input style="margin-left:10px;" type="submit" value="Submit">
      </form>
      </div>
      </div>
  </div>
  
  <button class="accordion">Full Time</button>
  <div class="panel">
    <h2>Full Template Output</h2>
    {{ tables[0]|safe }}
  </div>
</div>
<!--


<div class="container">




  <div class="container">
    <h2>test Container TBD</h2>
  </div>

  <h2>Total by Category:</h2>
  <table id="myTable">
    <tr>
      <th>Category</th>
      <th>Total Hours</th>
    </tr>
    {% for key, value in timekeeperdata['totalByCategory'].items() %}
      <tr>
        <td>{{key}}</td>
        <td>{{value}}</td>
      </tr>
    {% endfor %}
    </table> 
  </div>




-->
<script>
  var acc = document.getElementsByClassName("accordion");
  var i;
  
  for (i = 0; i < acc.length; i++) {
    acc[i].addEventListener("click", function() {
      this.classList.toggle("active");
      var panel = this.nextElementSibling;
      if (panel.style.maxHeight) {
        panel.style.maxHeight = null;
      } else {
        panel.style.maxHeight = panel.scrollHeight + 50 + "px";
      } 
    });
  }
  </script>
{% endblock %}

